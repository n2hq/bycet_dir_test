import{j as s}from"./jsx-runtime-0DLF9kdB.js";import{r as x}from"./components-CqyJs_9b.js";import{e as h,t as u,r as p,o as f,f as v}from"./lib-d-OCgvip.js";import{A as j,R as _}from"./RatingBoxInfoCard-C90skG7G.js";function b(e){if(!e)return"";if(!e.startsWith("+"))return e;const a=e.replace(/\D/g,""),r=a.slice(0,a.length>11?3:a.length>10?2:1),n=a.slice(r.length),o=[];let l=0;for(;l<n.length;)if(n.length-l>4)o.push(n.slice(l,l+3)),l+=3;else{o.push(n.slice(l));break}return`+${r} ${o.join(" ")}`}const $=({item:e,isFirst:a=!1})=>{const[r,n]=x.useState(null),[o,l]=x.useState(""),[t,i]=x.useState("");return x.useEffect(()=>{e&&n(e)},[e]),x.useEffect(()=>{var d;if(r!==null){let c="";(r==null?void 0:r.bg_image_url_ext)!==void 0&&(r==null?void 0:r.bg_image_url_ext)!==null?c=r==null?void 0:r.bg_image_url_ext:(r==null?void 0:r.profile_image_url_ext)!==void 0&&(r==null?void 0:r.profile_image_url_ext)!==null?c=r==null?void 0:r.profile_image_url_ext:c="",i(c);let g=((d=v)==null?void 0:d.IMG_BASE_URL)+c;l(g)}},[r]),s.jsx("div",{children:s.jsx("a",{href:`${(e==null?void 0:e.username)!==null&&(e==null?void 0:e.username)!==""&&(e==null?void 0:e.username)!==void 0?`/${e==null?void 0:e.username}`:`/${e==null?void 0:e.gid}`}`,children:s.jsxs("div",{className:`flex py-4 border-b border-gray-200/80 cursor-pointer hover:opacity-80 transition duration-200 ease-out group ${a?"border-t":""} group`,children:[s.jsx("div",{className:"relative h-48 min-w-40 w-40 md:h-52 md:w-52 md:min-w-52 flex-shrink-0 rounded-3xl overflow-hidden shadow-md group-hover:shadow-lg group-hover:shadow-gray-300 border group-hover:border-none",children:t===""?s.jsx(j,{title:e==null?void 0:e.title}):s.jsx("img",{src:o,alt:"",className:"object-cover h-full w-full  "})}),s.jsxs("div",{className:"flex flex-col flex-grow pl-5 relative",children:[s.jsxs("div",{className:"flex justify-between relative",children:[s.jsx("p",{className:"text-base leading-[1.2em] capitalize",children:h(e.category)}),s.jsx("div",{children:s.jsx("div",{className:"text-[12px] md:text-lg min-w-[100px] text-right",children:b(e==null?void 0:e.phone)||"n/a"})})]}),s.jsx("h4",{className:"text-[17px]  leading-[1.2em] text-blue-700 group-hover:underline",children:e==null?void 0:e.title}),s.jsx("div",{className:"border-b w-10 pt-2"}),s.jsx("div",{className:"pt-2 flex-grow",children:s.jsx("div",{className:"text-[13px] text-black line-clamp-2 leading-[1.3em]",children:u(p(e==null?void 0:e.short_description),230)})}),s.jsxs("div",{className:"flex justify-between items-end pt-5",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm mb-2 flex flex-col -space-y-0.5 relative",children:[s.jsx("p",{className:" line-clamp-1",children:e==null?void 0:e.address_one}),s.jsxs("p",{className:" line-clamp-1",children:[e.address_two&&`${e.address_two}, `," ",e.city_name&&`${e.city_name}, `," ",e==null?void 0:e.country_name]})]}),s.jsxs("div",{className:"flex place-items-center relative",children:[s.jsx(_,{rating:Number(e==null?void 0:e.avg_rating)||0}),s.jsx("span",{className:" ml-1 relative left-0 top-[0px] text-[14px]",children:(e==null?void 0:e.avg_rating)||0}),s.jsxs("span",{className:"ml-1 relative left-0 top-[0px] text-orange-700 text-[13px]",children:["(",(e==null?void 0:e.count_of_rating)||0,") Reviews"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-right -mb-1",children:"Starting"}),s.jsxs("p",{className:"text-lg lg:text-xl font-semibold pb-1 text-right",children:[e.currency,f(Number(e.minimum_amount||0))]})]}),s.jsx("p",{className:" text-right font-light hover:underline",children:"Website"})]})]})]})]})})})};export{$ as I};
