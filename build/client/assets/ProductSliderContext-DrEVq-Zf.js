import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as n}from"./components-CqyJs_9b.js";import{B as E,a as _,v as z,w as P}from"./lib-C4HmGJL5.js";import{I as M}from"./index-kGvPjvJT.js";const g=n.createContext(null);function X(){const c=n.useContext(g);return c||(console.log("Wrap product slider Provider around this component."),null)}const D="https://tpics.gasimg.com",I=({children:c})=>{const[d,h]=n.useState(!1),[r,w]=n.useState(null),[s,v]=n.useState(!1),[l,i]=n.useState(0),[p,b]=n.useState(null),x=n.useRef(0);n.useRef(0);const[a,j]=n.useState(!0),N=t=>{x.current=t.touches[0].clientX},k=t=>{const o=t.changedTouches[0].clientX,f=x.current-o;f>50?i(u=>(u+1)%s.length):f<-50&&i(u=>(u-1+s.length)%s.length)},m=()=>{h(!1)},S=()=>{i(t=>t===0?s.length-1:t-1)},y=()=>{i(t=>t===s.length-1?0:t+1)};n.useEffect(()=>{r!==null&&i(r-1)},[r]);let C={dialog:d,setDialog:h,selectedSlide:r,setSelectedSlide:w,slides:s,setGallery:v,setListing:b};return n.useEffect(()=>{const t=o=>{o.key==="Escape"&&m()};return d&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[d]),e.jsxs(g.Provider,{value:C,children:[d&&e.jsx("div",{className:`flex w-full h-full bg-white z-[20001] 
                fixed top-0 left-0 right-0 bottom-0 `,children:e.jsxs("div",{className:"grid grid-cols-12 gap-0 w-full",children:[e.jsxs("div",{className:`${a?"col-span-12":"col-span-12 md:col-span-9"} w-full h-full relative bg-black flex`,children:[e.jsx("div",{className:" w-full h-screen flex overflow-hidden place-items-center place-content-center",children:s&&r&&s.map((t,o)=>e.jsxs("div",{className:`w-full h-full flex flex-shrink-0 flex-grow-0 transition-transform  place-content-center place-items-center  relative
                                            ease-in-out duration-1000`,style:{display:o===l?"block":"none"},children:[e.jsx("div",{className:"absolute top-10",children:e.jsxs("div",{className:"text-white text-center ",children:[l+1," / ",s.length]})}),e.jsx("div",{className:"w-[100%] md:w-[70%] h-[70%]",children:e.jsx("img",{onTouchStart:N,onTouchEnd:k,src:D+t.product_image_url,alt:"",className:"object-scale-down w-full h-full "},o)}),e.jsx("div",{className:"absolute bottom-[15px] w-full z-[20px] px-5 py-7 bg-black/30",children:e.jsx("div",{className:" text-center text-white font-extralight text-[13px]",children:t==null?void 0:t.product_title})})]}))}),e.jsx("button",{onMouseDown:S,className:`block absolute top-0 bottom-0 
                                                p-[1rem] cursor-pointer left-0 group h-full 
                                                transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full flex place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(E,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:y,className:`block absolute top-0 bottom-0 
                                                    p-[1rem] cursor-pointer ${a?"right-0":"right-0 md:right-0"} group 
                                                     transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full flex place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(_,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("div",{onMouseDown:()=>m(),className:`w-[30px] h-[30px] z-[300] bg-white
                                                    flex place-content-center place-items-center
                                                    rounded-full absolute left-2 top-2 cursor-pointer
                                                    hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(M,{className:"text-[30px]"})}),e.jsx("div",{onClick:()=>{j(!a)},className:"w-[30px] h-[30px] z-[300] bg-white flex place-content-center place-items-center rounded-full absolute top-2 right-2 cursor-pointer hover:bg-white/40 transition duration-1000 ease-in-out",children:a?e.jsx(z,{className:"text-[20px]"}):e.jsx(P,{className:"text-[20px]"})})]}),e.jsxs("div",{className:`${a?"hidden":"hidden md:block md:col-span-3"} px-5`,children:[e.jsxs("h1",{className:" text-[22px] my-4 font-sans font-extrabold tracking-tight leading-[24px]",children:["Products for ",p&&p.title]}),e.jsxs("div",{className:" my-4 ",children:[l+1," / ",s.length]}),e.jsx("hr",{}),e.jsx("div",{className:" my-4 whitespace-pre-line",children:s[l].product_title}),s[l].product_description&&e.jsx("div",{className:" my-4 whitespace-pre-line",children:s[l].product_description}),e.jsx("div",{className:" mt-8 whitespace-pre-line",children:e.jsx("a",{target:"_product",href:s[l].product_link,className:"bg-gray-500 text-white px-12 py-4 text-center rounded-md cursor-pointer hover:shadow-lg hover:shadow-gray-300",children:"Continue"})})]})]})}),c]})};export{I as P,X as u};
